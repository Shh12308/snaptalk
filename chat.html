<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Random Video Chat</title>
  <link rel="stylesheet" href="chat.css">
</head>
<body>
  <div id="videoContainer">

    <!-- Remote & Local Videos (hidden initially) -->
    <div id="remote-player" class="hidden">
      <video id="remoteVideo" autoplay playsinline></video>
    </div>
    <div id="local-player" class="hidden">
      <video id="localVideo" autoplay muted playsinline></video>
    </div>

    <!-- Top Right Buttons (Block & End Call) - hidden -->
    <div id="topRightButtons" class="hidden">
      <button id="blockBtn">🚫</button>
      <button id="endCallBtn">❌</button>
    </div>

    <!-- Preferences Panel (hidden) -->
    <div id="preferencesPanel" class="hidden">
      <label>Preferred Age:
        <select id="prefPreferredAge">
          <option value="teen">13–17</option>
          <option value="adult">18+</option>
          <option value="any">Any</option>
        </select>
      </label>
      <label>Gender:
        <select id="prefGender">
          <option value="male">Male</option>
          <option value="female">Female</option>
          <option value="any">Any</option>
        </select>
      </label>
      <label>Location:
        <select id="prefLocation">
          <!-- Populated dynamically -->
        </select>
      </label>
      <label>Topics:
        <input type="text" id="prefTopics" placeholder="Interests, comma separated" />
      </label>
      <button id="savePrefsBtn">Save</button>
    </div>

    <!-- Initial Buttons (Start, Preferences, Home) - visible -->
    <div id="initialButtons">
      <button id="startBtn">Start</button>
      <button id="togglePrefsBtn">Preferences</button>
      <button id="homeBtn">Home</button>
    </div>

    <!-- Call Buttons (Skip) - hidden -->
    <div id="callButtons" class="hidden">
      <button id="skipBtn">Skip</button>
    </div>

    <!-- Chat UI - hidden -->
    <div id="chatBox" class="hidden">
      <div id="chatMessages"></div>
      <div id="typingIndicator" class="hidden">Partner is typing...</div>
      <div id="chatControls">
        <input type="text" id="chatInput" placeholder="Type a message..." />
        <button id="emojiBtn">😊</button>
        <button id="chatSendBtn">Send</button>
      </div>
    </div>

    <!-- Ban Overlay - hidden -->
    <div id="banOverlay" class="hidden">
      <div class="banned">
        <h1>You have been banned</h1>
        <div class="timer">Time Remaining: 100:00</div>
        <div class="rules">
          <p>Reason: Minor detected.</p>
          <p><span class="highlight">Repeat offenses may result in permanent ban.</span></p>
        </div>
      </div>
    </div>

    <!-- Status Text - hidden -->
    <div id="statusText" class="hidden">Ready to start!</div>

  </div>

  <!-- Socket.io & JS -->
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <script src="achat.js" type="module"></script>
</body>
</html>